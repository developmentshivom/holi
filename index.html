<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase WebRTC</title>

    <!-- âœ… Correct Firebase SDK Loading -->
    <script defer src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
    <script defer src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js"></script>

</head>
<body>
    <h1>Firebase WebRTC</h1>

    <script>
        // âœ… Ensure Firebase loads correctly
        document.addEventListener("DOMContentLoaded", function () {
            // âœ… Check if Firebase is available
            if (typeof firebase === "undefined") {
                console.error("âŒ Firebase SDK not loaded!");
                return;
            }

            console.log("âœ… Firebase SDK loaded!");

            // âœ… Firebase Config
            const firebaseConfig = {
                apiKey: "AIzaSyD9geqCCQlvh725M5aV22hYWUNa2YU6qYM",
                authDomain: "virtual-holi-game.firebaseapp.com",
                databaseURL: "https://virtual-holi-game-default-rtdb.firebaseio.com",
                projectId: "virtual-holi-game",
                storageBucket: "virtual-holi-game.appspot.com",
                messagingSenderId: "348578981043",
                appId: "1:348578981043:web:78126b6e1605efab6afcc6",
                measurementId: "G-9B3T81ZSR8"
            };

            // âœ… Initialize Firebase App
            firebase.initializeApp(firebaseConfig);

            // âœ… Get Realtime Database Reference
            const database = firebase.database();

            console.log("ðŸ”¥ Firebase Initialized Successfully!");

            // âœ… Test Writing Data
            database.ref("test").set({ message: "Hello, Firebase!" })
                .then(() => console.log("âœ… Data written successfully"))
                .catch(error => console.error("âŒ Error writing data:", error));

            // âœ… Test Reading Data
            database.ref("test").on("value", snapshot => {
                console.log("ðŸ“¡ Data from Firebase:", snapshot.val());
            });
        });
    </script>

</body>
</html>
