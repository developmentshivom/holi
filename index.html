<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase WebRTC</title>

    <!-- ✅ Correct Firebase SDK Loading -->
    <script defer src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
    <script defer src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js"></script>

</head>
<body>
    <h1>Firebase WebRTC</h1>

    <script>
        // ✅ Ensure Firebase loads correctly
        document.addEventListener("DOMContentLoaded", function () {
            // ✅ Check if Firebase is available
            if (typeof firebase === "undefined") {
                console.error("❌ Firebase SDK not loaded!");
                return;
            }

            console.log("✅ Firebase SDK loaded!");

            // ✅ Firebase Config
            const firebaseConfig = {
                apiKey: "AIzaSyD9geqCCQlvh725M5aV22hYWUNa2YU6qYM",
                authDomain: "virtual-holi-game.firebaseapp.com",
                databaseURL: "https://virtual-holi-game-default-rtdb.firebaseio.com",
                projectId: "virtual-holi-game",
                storageBucket: "virtual-holi-game.appspot.com",
                messagingSenderId: "348578981043",
                appId: "1:348578981043:web:78126b6e1605efab6afcc6",
                measurementId: "G-9B3T81ZSR8"
            };

            // ✅ Initialize Firebase App
            firebase.initializeApp(firebaseConfig);

            // ✅ Get Realtime Database Reference
            const database = firebase.database();

            console.log("🔥 Firebase Initialized Successfully!");

            // ✅ Test Writing Data
            database.ref("test").set({ message: "Hello, Firebase!" })
                .then(() => console.log("✅ Data written successfully"))
                .catch(error => console.error("❌ Error writing data:", error));

            // ✅ Test Reading Data
            database.ref("test").on("value", snapshot => {
                console.log("📡 Data from Firebase:", snapshot.val());
            });
        });
    </script>

</body>
</html>
